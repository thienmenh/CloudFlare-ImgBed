"use strict";(self["webpackChunkCrax_me"]=self["webpackChunkCrax_me"]||[]).push([[727],{1727:function(t,s,e){e.r(s),e.d(s,{default:function(){return k}});var n=e(47),i=(e(5331),e(9648),e(9623)),a=(e(9092),e(6768)),l=e(5130);const o={class:"login"},r={class:"login-container"};function g(t,s,e,g,c,h){const p=i.WK,u=n.S2;return(0,a.uX)(),(0,a.CE)("div",o,[s[3]||(s[3]=(0,a.Lk)("img",{id:"bg1",class:"background-image1",alt:"Background Image"},null,-1)),s[4]||(s[4]=(0,a.Lk)("img",{id:"bg2",class:"background-image2",alt:"Background Image"},null,-1)),(0,a.Lk)("div",r,[s[2]||(s[2]=(0,a.Lk)("h1",null,"Login",-1)),(0,a.bF)(p,{class:"password-input",modelValue:c.password,"onUpdate:modelValue":s[0]||(s[0]=t=>c.password=t),placeholder:"Nhập mã xác thực, nếu chưa đặt thì để trống~",type:"password","show-password":"",onKeyup:(0,l.jR)(h.login,["enter","native"])},null,8,["modelValue","onKeyup"]),(0,a.bF)(u,{class:"submit",type:"primary",onClick:h.login},{default:(0,a.k6)((()=>s[1]||(s[1]=[(0,a.eW)("Đăng nhập")]))),_:1},8,["onClick"])])])}e(4114);var c=e(4570),h=e.n(c),p=e(4373),u=e(782),d={data(){return{password:"",writtenPass:"",bingWallPaperIndex:0,customWallPaperIndex:0}},computed:{...(0,u.L8)(["userConfig","bingWallPapers"]),bkInterval(){return this.userConfig?.bkInterval||3e3},bkOpacity(){return this.userConfig?.bkOpacity||1}},mounted(){const t=document.getElementById("bg1"),s=document.getElementById("bg2");"bing"===this.userConfig?.loginBkImg?this.$store.dispatch("fetchBingWallPapers").then((()=>{t.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,t.onload=()=>{t.style.opacity=this.bkOpacity},setInterval((()=>{let e=0!=t.style.opacity?t:s,n=0!=t.style.opacity?s:t;e.style.opacity=0,this.bingWallPaperIndex=(this.bingWallPaperIndex+1)%this.bingWallPapers.length,n.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,n.onload=()=>{n.style.opacity=this.bkOpacity}}),this.bkInterval)})):this.userConfig?.loginBkImg instanceof Array&&this.userConfig?.loginBkImg?.length>1?(t.src=this.userConfig.loginBkImg[this.customWallPaperIndex],t.onload=()=>{t.style.opacity=this.bkOpacity},setInterval((()=>{let e=0!=t.style.opacity?t:s,n=0!=t.style.opacity?s:t;e.style.opacity=0,this.customWallPaperIndex=(this.customWallPaperIndex+1)%this.userConfig.loginBkImg.length,n.src=this.userConfig.loginBkImg[this.customWallPaperIndex],n.onload=()=>{n.style.opacity=this.bkOpacity}}),this.bkInterval)):this.userConfig?.loginBkImg instanceof Array&&1==this.userConfig?.loginBkImg?.length?(t.src=this.userConfig.loginBkImg[0],t.onload=()=>{t.style.opacity=this.bkOpacity}):(t.src=e(732),t.onload=()=>{t.style.opacity=this.bkOpacity})},methods:{login(){""===this.password?this.writtenPass="unset":this.writtenPass=this.password,p.A.post("/login",{authCode:this.password}).then((t=>{200===t.status?(h().set("authCode",this.writtenPass,"14d"),this.$router.push("/"),this.$message.success("Đăng nhập thành công~")):this.$message.error("Đăng nhập thất bại, vui lòng kiểm tra mã xác thực~")})).catch((t=>{this.$message.error("Đăng nhập thất bại, vui lòng kiểm tra mã xác thực~")}))}}},m=e(1241);const y=(0,m.A)(d,[["render",g],["__scopeId","data-v-f5d834d8"]]);var k=y},732:function(t,s,e){t.exports=e.p+"img/background.db74df5d.jpg"}}]);
//# sourceMappingURL=727.6be5ccd1.js.map
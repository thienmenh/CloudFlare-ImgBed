"use strict";(self["webpackChunkCrax_me"]=self["webpackChunkCrax_me"]||[]).push([[523],{5523:function(n,e,s){s.r(e),s.d(e,{default:function(){return g}});var a=s(47),t=(s(5331),s(9648),s(9623)),o=(s(9092),s(6768)),r=s(5130);const i={class:"login"},u={class:"login-container"},l={class:"input-container"},c={class:"input-container"};function d(n,e,s,d,h,p){const m=t.WK,g=a.S2;return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",u,[e[5]||(e[5]=(0,o.Lk)("h1",null,"AdminLogin",-1)),(0,o.Lk)("div",l,[e[2]||(e[2]=(0,o.Lk)("a",{class:"input-name"},"Tên người dùng:",-1)),(0,o.bF)(m,{modelValue:h.username,"onUpdate:modelValue":e[0]||(e[0]=n=>h.username=n),placeholder:"Vui lòng nhập tên người dùng",class:"username-input"},null,8,["modelValue"])]),(0,o.Lk)("div",c,[e[3]||(e[3]=(0,o.Lk)("a",{class:"input-name"},"Mật khẩu:",-1)),(0,o.bF)(m,{modelValue:h.password,"onUpdate:modelValue":e[1]||(e[1]=n=>h.password=n),placeholder:"Vui lòng nhập mật khẩu",class:"password-input",type:"password","show-password":"",onKeyup:(0,r.jR)(p.login,["enter","native"])},null,8,["modelValue","onKeyup"])]),(0,o.bF)(g,{class:"submit",type:"primary",onClick:p.login},{default:(0,o.k6)((()=>e[4]||(e[4]=[(0,o.eW)("Đăng nhập")]))),_:1},8,["onClick"])])])}s(4114),s(4979);var h={data(){return{password:"",username:""}},methods:{async login(){const n=btoa(`${this.username}:${this.password}`);try{const e=await fetch("/api/manage/check",{method:"GET",headers:{Authorization:`Basic ${n}`},credentials:"include"});401===e.status?this.$message.error("Tên người dùng hoặc mật khẩu không đúng"):200===e.status?(this.$store.commit("setCredentials",n),this.$router.push("/dashboard")):this.$message.error("Tên người dùng hoặc mật khẩu không đúng")}catch(e){this.$message.error("Lỗi máy chủ")}}}},p=s(1241);const m=(0,p.A)(h,[["render",d],["__scopeId","data-v-4ff2e618"]]);var g=m}}]);
//# sourceMappingURL=523.fd655d63.js.map